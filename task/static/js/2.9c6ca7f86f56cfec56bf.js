webpackJsonp([2],{"34z1":function(t,e){},W2Q3:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("MS2J"),r=s("ahCv"),i=s("NC6I"),n=s.n(i),o=s("5reh"),l={data:function(){return{validCount:0,userName:"",password:"",token:"12345678",rules:{userName:{itRequried:{reg:!0,msg:""},itType:{reg:"",msg:""},itLen:{reg:20,msg:""},itState:"",itMsg:""},password:{itRequried:{reg:!0,msg:""},itType:{reg:"",msg:""},itLen:{reg:8,msg:""},itState:"",itMsg:""}}}},mounted:function(){},methods:{toLogin:function(){var t=this;for(var e in this.validCount=0,this.rules)this.validCount+=a.a.byOneValid(this[e],this.rules[e]);if(this.validCount>0);else{var s=this,i={userName:s.userName,password:n()(s.password)};r.a.userLogin(i).then(function(e){if(1==e.msgCode){s.$store.commit(o.a,e.token);var a={userId:e.userId};r.a.queryUserInfo(a).then(function(e){1==e.msgCode&&(s.$store.commit("setUserInfo",e.user),t.$router.replace({path:"/"}))})}})}},toRegist:function(){this.$router.push({path:"/register"})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("mt-header",{attrs:{title:"登录"}}),t._v(" "),s("div",{staticClass:"page-part"},[s("mt-field",{attrs:{label:"账号",placeholder:"请输入用户名",attr:{maxlength:20},state:t.rules.userName.itState},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),t._v(" "),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password",attr:{maxlength:8},state:t.rules.password.itState},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("div",{staticClass:"login-bottom"},[s("mt-button",{staticClass:"login-btn-login",attrs:{size:"large",type:"primary"},on:{click:t.toLogin}},[t._v("登录")]),t._v(" "),s("div",{staticClass:"line"},[t._v("----------------还没有账号---------------")]),t._v(" "),s("mt-button",{staticClass:"login-btn-login login-btn-zhuce",attrs:{size:"large",type:"primary"},on:{click:t.toRegist}},[t._v("注册")])],1)],1)},staticRenderFns:[]};var c=s("VU/8")(l,u,!1,function(t){s("izFA"),s("34z1")},null,null);e.default=c.exports},izFA:function(t,e){}});