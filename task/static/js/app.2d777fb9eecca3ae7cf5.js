webpackJsonp([16],{"5reh":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r});var o="login",a="logout",r="title"},N8z9:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("j1ja"),n("d8/S");var o=n("7+uW"),a=n("Au9i"),r=n.n(a),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s,u=n("VU/8")({name:"App",created:function(){}},i,!1,function(e){n("Qmu+")},null,null).exports,c=n("bOdI"),l=n.n(c),p=n("NYxO"),d=n("ahCv"),f={namespaced:!0,state:{orders:[],addresses:[],info:{name:"",avatar:"",phone:"",openid:""},integral:0},getters:{address:function(){}},actions:{init:function(e,t){d.a.getInfo().then(function(t){console.log(t);e.commit("set",{info:{name:""}})})}},mutations:{set:function(e,t){console.log("user mutations init",t),e.info=t}}},h=n("5reh");o.default.use(p.a);var m=new p.a.Store({modules:{user:f},state:{token:null,title:""},mutations:(s={setUserInfo:function(e,t){localStorage.userId=t.userId,localStorage.userName=t.userName,localStorage.score=t.score}},l()(s,h.a,function(e,t){localStorage.token=t,e.token=t}),l()(s,h.b,function(e){console.log("去掉token"),localStorage.removeItem("token"),e.token=null}),l()(s,h.c,function(e,t){console.log("改变title",t),console.log("改变title",e.title),document.title=t}),s)}),g=n("/ocq");o.default.use(g.a);var k=new g.a({routes:[{path:"/",name:"home",component:function(e){return Promise.all([n.e(0),n.e(4)]).then(function(){var t=[n("26dS")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/login",name:"login",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){var t=[n("W2Q3")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/register",name:"register",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){var t=[n("12H5")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/edit_password",name:"register",component:function(e){return Promise.all([n.e(0),n.e(5)]).then(function(){var t=[n("LoR6")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/add/:id",name:"task_add",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){var t=[n("9EQR")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/list",name:"task_list",component:function(e){return Promise.all([n.e(0),n.e(14)]).then(function(){var t=[n("fOjX")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/detail/:id",name:"task_detail",component:function(e){return Promise.all([n.e(0),n.e(12)]).then(function(){var t=[n("nrt7")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/dist_detail",name:"task_detail",component:function(e){return Promise.all([n.e(0),n.e(6)]).then(function(){var t=[n("k5nZ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/start/:id",name:"task_start",component:function(e){return Promise.all([n.e(0),n.e(7)]).then(function(){var t=[n("e5Wc")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/reward",name:"reward_list",component:function(e){return Promise.all([n.e(0),n.e(11)]).then(function(){var t=[n("IARD")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/check/:id",name:"check",component:function(e){return Promise.all([n.e(0),n.e(13)]).then(function(){var t=[n("Na4F")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/task/check_detail/:id",name:"check",component:function(e){return Promise.all([n.e(0),n.e(10)]).then(function(){var t=[n("2KnM")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/user",name:"user",component:function(e){return Promise.all([n.e(0),n.e(8)]).then(function(){var t=[n("+L4n")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/user/set_user",name:"set_user",component:function(e){return n.e(9).then(function(){var t=[n("wtti")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]});window.localStorage.getItem("token")&&m.commit(h.a,window.localStorage.getItem("token")),k.beforeEach(function(e,t,n){e.meta.requireAuth?m.state.token?n():n({path:"/login",query:{redirect:e.fullPath,id:t.params}}):n()});var v=k,b=n("zL8q"),y=n.n(b),I=(n("tvR6"),n("//Fk")),P=n.n(I),_=n("mtWM"),q=n.n(_),w={host:"http://120.78.203.150:8080/RddTaskService"};q.a.defaults.timeout=w.timeout,q.a.defaults.baseURL=w.host,q.a.interceptors.request.use(function(e){return m.state.token&&(console.log("http request 拦截器",m.state.token),e.headers.token=""+m.state.token),console.log("http request 拦截器",e),e},function(e){return a.Indicator.close(),Object(a.Toast)({message:"请求失败",position:"middle",duration:2e3}),P.a.reject(e)}),q.a.interceptors.response.use(function(e){return console.log("http response 拦截器"),a.Indicator.close(),e.data.msgCode<1&&Object(a.Toast)({message:e.data.msg,position:"middle",duration:2e3}),e.data},function(e){if(a.Indicator.close(),console.log("http response 拦截器 error",e.response),e.response)switch(e.response.status){case 401:m.commit(h.b),localStorage.url?v.replace(localStorage.url):v.replace({path:"/login",query:{redirect:v.currentRoute.fullPath}})}return P.a.reject(e)});var S=q.a;n("N8z9"),n("rqsT");o.default.config.productionTip=!1,o.default.use(y.a),o.default.use(r.a),new o.default({el:"#app",store:m,axios:S,router:v,components:{App:u,Mint:r.a},template:"<App/>"})},"Qmu+":function(e,t){},ahCv:function(e,t,n){"use strict";var o=n("mtWM"),a=n.n(o),r="/user/userLogin",i="/user/userRegister",s="api/user/queryUserInfo",u="api/user/updateUserInfo";t.a={userLogin:function(e){return console.log("qingqiuuser"),a.a.post(r,e)},userRegister:function(e){return a.a.post(i,e)},queryUserInfo:function(e){return a.a.post(s,e)},updateUserInfo:function(e){return a.a.post(u,e)}}},"d8/S":function(e,t){},rqsT:function(e,t){},tvR6:function(e,t){}},["NHnr"]);